% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/generate_ecm_variables.R
\name{generate_ecm_variables}
\alias{generate_ecm_variables}
\title{Generate Variables for Error Correction Model (ECM) Regression}
\usage{
generate_ecm_variables(data, order)
}
\arguments{
\item{data}{A data frame containing the time series data. If the first column
is named "date", it will be automatically excluded from variable generation.}

\item{order}{Integer vector specifying the lag order for each variable.
The length must match the number of columns in the data frame (excluding date).
Values can be 0 (contemporaneous only) or positive integers.}
}
\value{
A tibble containing variables for ECM regression, including:
- L1.\emph{: First lag of all variables
- D0.}: First difference of dependent variable
- Dn.\emph{: First differences of lagged variables
- L0.}: Contemporaneous variables with zero lag order (if any)
}
\description{
This function creates lagged and differenced variables for Error Correction Model
estimation based on ARDL lag orders. It handles cases where some variables have
zero lag order (contemporaneous only) differently from those with positive lag orders.
}
\examples{
# Generate sample data
sample_data <- sim_data_generate(
  b = c(0.5, 0.7, 0.3, 0.2),
  order = c(1, 1),
  size = 100,
  reps = 1
)[[1]]

# Find optimal lag order
optimal_order <- order_find(sample_data, selection = "BIC", export = FALSE)

# Generate ECM variables
ecm_vars <- generate_ecm_variables(sample_data, order = optimal_order)
head(ecm_vars)
}
